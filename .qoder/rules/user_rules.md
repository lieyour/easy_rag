---
trigger: always_on
alwaysApply: true
---

- 注释仅使用中文
- 偏好函数式编程而非面向对象编程
- 仅对连接器和外部系统接口使用独立的面向对象类
- 所有其他逻辑使用纯函数编写（明确的输入/输出，无隐藏状态变更）
- 函数必须仅修改其返回值 - 绝不修改输入参数、全局状态或任何未明确返回的数据
- 进行最小化、集中的更改
- 遵循DRY（不重复自己）、KISS（保持简单）和YAGNI（你不会需要它）原则
- 在所有语言中使用严格类型（函数返回、变量）
- 在函数调用中尽可能使用命名参数
- 避免代码重复；在编写前检查某些逻辑是否已存在
- 避免没有明确目的的不必要包装函数
- 处理复杂数据结构时，优先使用强类型集合而非泛型集合
- 考虑为非平凡数据结构创建适当的类型定义
- 对于简单数据结构，原生类型足够，但对于复杂数据结构，使用适当的模型
- 尽量避免使用无类型变量和泛型类型
- 在函数定义中绝不使用默认参数值 - 使所有参数明确化


- 始终明确抛出错误，绝不静默忽略
- 如果代码逻辑部分发生错误，立即抛出并停止执行
- 使用明确指示问题所在的特定错误类型
- 避免隐藏根本原因的全捕获异常处理
- 错误信息应清晰并可操作
- 在抛出错误前记录包含适当上下文的日志
